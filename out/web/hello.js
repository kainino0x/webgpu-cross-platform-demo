var f;f||=typeof Module !== 'undefined' ? Module : {};var aa=Object.assign({},f),ba=(a,b)=>{throw b;},ca="object"==typeof window,g="function"==typeof importScripts,da="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,t="",ea,fa,ha;
if(da){var fs=require("fs"),ia=require("path");t=g?ia.dirname(t)+"/":__dirname+"/";ea=(a,b)=>{a=ja(a)?new URL(a):ia.normalize(a);return fs.readFileSync(a,b?void 0:"utf8")};ha=a=>{a=ea(a,!0);a.buffer||(a=new Uint8Array(a));return a};fa=(a,b,c,e=!0)=>{a=ja(a)?new URL(a):ia.normalize(a);fs.readFile(a,e?void 0:"utf8",(d,h)=>{d?c(d):b(e?h.buffer:h)})};process.argv.slice(2);"undefined"!=typeof module&&(module.exports=f);process.on("uncaughtException",a=>{if(!("unwind"===a||a instanceof ka||a.context instanceof
ka))throw a;});ba=(a,b)=>{process.exitCode=a;throw b;}}else if(ca||g)g?t=self.location.href:"undefined"!=typeof document&&document.currentScript&&(t=document.currentScript.src),t=t.startsWith("blob:")?"":t.substr(0,t.replace(/[?#].*/,"").lastIndexOf("/")+1),ea=a=>{var b=new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText},g&&(ha=a=>{var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),fa=(a,b,c)=>{var e=new XMLHttpRequest;
e.open("GET",a,!0);e.responseType="arraybuffer";e.onload=()=>{200==e.status||0==e.status&&e.response?b(e.response):c()};e.onerror=c;e.send(null)};var la=f.print||console.log.bind(console),w=f.printErr||console.error.bind(console);Object.assign(f,aa);aa=null;f.quit&&(ba=f.quit);var x;f.wasmBinary&&(x=f.wasmBinary);"object"!=typeof WebAssembly&&y("no native wasm support detected");var ma,z=!1,B,C,D,E,na,F,oa=[],pa=[],qa=[],ra=[];function sa(){var a=f.preRun.shift();oa.unshift(a)}
var G=0,ta=null,ua=null;function y(a){f.onAbort?.(a);a="Aborted("+a+")";w(a);z=!0;B=1;throw new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.");}var va=a=>a.startsWith("data:application/octet-stream;base64,"),ja=a=>a.startsWith("file://"),H;H="hello.wasm";if(!va(H)){var wa=H;H=f.locateFile?f.locateFile(wa,t):t+wa}function xa(a){if(a==H&&x)return new Uint8Array(x);if(ha)return ha(a);throw"both async and sync fetching of the wasm failed";}
function ya(a){if(!x&&(ca||g)){if("function"==typeof fetch&&!ja(a))return fetch(a,{credentials:"same-origin"}).then(b=>{if(!b.ok)throw`failed to load wasm binary file at '${a}'`;return b.arrayBuffer()}).catch(()=>xa(a));if(fa)return new Promise((b,c)=>{fa(a,e=>b(new Uint8Array(e)),c)})}return Promise.resolve().then(()=>xa(a))}function za(a,b,c){return ya(a).then(e=>WebAssembly.instantiate(e,b)).then(c,e=>{w(`failed to asynchronously prepare wasm: ${e}`);y(e)})}
function Aa(a,b){var c=H;x||"function"!=typeof WebAssembly.instantiateStreaming||va(c)||ja(c)||da||"function"!=typeof fetch?za(c,a,b):fetch(c,{credentials:"same-origin"}).then(e=>WebAssembly.instantiateStreaming(e,a).then(b,function(d){w(`wasm streaming compile failed: ${d}`);w("falling back to ArrayBuffer instantiation");return za(c,a,b)}))}function ka(a){this.name="ExitStatus";this.message=`Program terminated with exit(${a})`;this.status=a}
var Ba=a=>{for(;0<a.length;)a.shift()(f)},Ca=f.noExitRuntime||!0,Ea="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,I=(a,b)=>{for(var c=b+NaN,e=b;a[e]&&!(e>=c);)++e;if(16<e-b&&a.buffer&&Ea)return Ea.decode(a.subarray(b,e));for(c="";b<e;){var d=a[b++];if(d&128){var h=a[b++]&63;if(192==(d&224))c+=String.fromCharCode((d&31)<<6|h);else{var k=a[b++]&63;d=224==(d&240)?(d&15)<<12|h<<6|k:(d&7)<<18|h<<12|k<<6|a[b++]&63;65536>d?c+=String.fromCharCode(d):(d-=65536,c+=String.fromCharCode(55296|
d>>10,56320|d&1023))}}else c+=String.fromCharCode(d)}return c},Oa=(a,b)=>{Fa=a;Ga=b;if(Ha)if(Ia||=!0,0==a)J=function(){var e=Math.max(0,Ja+b-Ka())|0;setTimeout(La,e)};else if(1==a)J=function(){Ma(La)};else if(2==a){if("undefined"==typeof Na)if("undefined"==typeof setImmediate){var c=[];addEventListener("message",e=>{if("setimmediate"===e.data||"setimmediate"===e.data.target)e.stopPropagation(),c.shift()()},!0);Na=function(e){c.push(e);g?(void 0===f.setImmediates&&(f.setImmediates=[]),f.setImmediates.push(e),
postMessage({target:"setimmediate"})):postMessage("setimmediate","*")}}else Na=setImmediate;J=function(){Na(La)}}},Ka;Ka=()=>performance.now();
var Ua=(a,b,c,e,d)=>{Ha=a;Pa=e;var h=K;Ia=!1;La=function(){if(!z)if(0<Qa.length){var k=Qa.shift();k.Ha(k.Da);if(Ra){var n=Ra,m=0==n%1?n-1:Math.floor(n);Ra=k.Ea?m:(8*n+(m+.5))/9}f.setStatus&&(k=f.statusMessage||"Please wait...",n=Ra,m=Sa.Ga,n?n<m?f.setStatus("{message} ({expected - remaining}/{expected})"):f.setStatus(k):f.setStatus(""));h<K||setTimeout(La,0)}else h<K||(Ta=Ta+1|0,1==Fa&&1<Ga&&0!=Ta%Ga?J():(0==Fa&&(Ja=Ka()),z||f.preMainLoop&&!1===f.preMainLoop()||(L(a),f.postMainLoop?.()),h<K||("object"==
typeof SDL&&SDL.audio?.Ma?.(),J())))};d||(b&&0<b?Oa(0,1E3/b):Oa(1,1),J());if(c)throw"unwind";},Wa=a=>{a instanceof ka||"unwind"==a||ba(1,a)},Xa=a=>{B=a;Ca||(f.onExit?.(a),z=!0);ba(a,new ka(a))},L=a=>{if(!z)try{if(a(),!Ca)try{B=a=B,Xa(a)}catch(b){Wa(b)}}catch(b){Wa(b)}},Ya=a=>{setTimeout(()=>{L(a)},1E4)},M=()=>{var a="getMappedRange size=0 no longer means WGPU_WHOLE_MAP_SIZE";M.va||(M.va={});M.va[a]||(M.va[a]=1,da&&(a="warning: "+a),w(a))},Za=f.preloadPlugins||[],Ia=!1,J=null,K=0,Ha=null,Pa=0,Fa=0,
Ga=0,Ta=0,Qa=[];function $a(){J=null;K++}var Sa={},Ja,La,Ra,ab=!1,bb=!1,cb=[];
function db(){function a(){bb=document.pointerLockElement===f.canvas||document.mozPointerLockElement===f.canvas||document.webkitPointerLockElement===f.canvas||document.msPointerLockElement===f.canvas}if(!eb){eb=!0;Za.push({canHandle:function(c){return!f.La&&/\.(jpg|jpeg|png|bmp)$/i.test(c)},handle:function(c,e,d,h){var k=new Blob([c],{type:fb(e)});k.size!==c.length&&(k=new Blob([(new Uint8Array(c)).buffer],{type:fb(e)}));var n=URL.createObjectURL(k),m=new Image;m.onload=()=>{var p=document.createElement("canvas");
p.width=m.width;p.height=m.height;p.getContext("2d").drawImage(m,0,0);URL.revokeObjectURL(n);d?.(c)};m.onerror=()=>{w(`Image ${n} could not be decoded`);h?.()};m.src=n}});Za.push({canHandle:function(c){return!f.Ka&&c.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(c,e,d){function h(){k||(k=!0,d?.(c))}var k=!1,n=URL.createObjectURL(new Blob([c],{type:fb(e)})),m=new Audio;m.addEventListener("canplaythrough",()=>h(m),!1);m.onerror=function(){if(!k){w(`warning: browser could not fully decode audio ${e}, trying slower base64 approach`);
for(var p="",u=0,l=0,v=0;v<c.length;v++)for(u=u<<8|c[v],l+=8;6<=l;){var q=u>>l-6&63;l-=6;p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[q]}2==l?(p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(u&3)<<4],p+="=="):4==l&&(p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(u&15)<<2],p+="=");m.src="data:audio/x-"+e.substr(-3)+";base64,"+p;h(m)}};m.src=n;Ya(()=>{h(m)})}});var b=f.canvas;b&&(b.requestPointerLock=b.requestPointerLock||b.mozRequestPointerLock||
b.webkitRequestPointerLock||b.msRequestPointerLock||(()=>{}),b.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),b.exitPointerLock=b.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",a,!1),document.addEventListener("mozpointerlockchange",a,!1),document.addEventListener("webkitpointerlockchange",a,!1),document.addEventListener("mspointerlockchange",a,!1),f.elementPointerLock&&b.addEventListener("click",
c=>{!bb&&f.canvas.requestPointerLock&&(f.canvas.requestPointerLock(),c.preventDefault())},!1))}}var gb=!1,hb=void 0,N=void 0;function ib(){if(!ab)return!1;(document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||(()=>{})).apply(document,[]);return!0}var jb=0;
function Ma(a){if("function"==typeof requestAnimationFrame)requestAnimationFrame(a);else{var b=Date.now();if(0===jb)jb=b+1E3/60;else for(;b+2>=jb;)jb+=1E3/60;setTimeout(a,Math.max(jb-b,0))}}function fb(a){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[a.substr(a.lastIndexOf(".")+1)]}var kb=[];function lb(){var a=f.canvas;kb.forEach(b=>b(a.width,a.height))}
function mb(a,b,c){b&&c?(a.Ba=b,a.ya=c):(b=a.Ba,c=a.ya);var e=b,d=c;f.forcedAspectRatio&&0<f.forcedAspectRatio&&(e/d<f.forcedAspectRatio?e=Math.round(d*f.forcedAspectRatio):d=Math.round(e/f.forcedAspectRatio));if((document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===a.parentNode&&"undefined"!=typeof screen){var h=Math.min(screen.width/e,screen.height/d);e=Math.round(e*h);d=Math.round(d*
h)}N?(a.width!=e&&(a.width=e),a.height!=d&&(a.height=d),"undefined"!=typeof a.style&&(a.style.removeProperty("width"),a.style.removeProperty("height"))):(a.width!=b&&(a.width=b),a.height!=c&&(a.height=c),"undefined"!=typeof a.style&&(e!=b||d!=c?(a.style.setProperty("width",e+"px","important"),a.style.setProperty("height",d+"px","important")):(a.style.removeProperty("width"),a.style.removeProperty("height"))))}
var Na,eb,nb=[null,[],[]],qb=a=>{var b=ob();a();pb(b)},sb=a=>{for(var b=0,c=0;c<a.length;++c){var e=a.charCodeAt(c);127>=e?b++:2047>=e?b+=2:55296<=e&&57343>=e?(b+=4,++c):b+=3}var d=b+1;b=rb(d);c=b;e=C;if(0<d){d=c+d-1;for(var h=0;h<a.length;++h){var k=a.charCodeAt(h);if(55296<=k&&57343>=k){var n=a.charCodeAt(++h);k=65536+((k&1023)<<10)|n&1023}if(127>=k){if(c>=d)break;e[c++]=k}else{if(2047>=k){if(c+1>=d)break;e[c++]=192|k>>6}else{if(65535>=k){if(c+2>=d)break;e[c++]=224|k>>12}else{if(c+3>=d)break;e[c++]=
240|k>>18;e[c++]=128|k>>12&63}e[c++]=128|k>>6&63}e[c++]=128|k&63}}e[c]=0}return b},ub=(a,b,c,e)=>{qb(()=>{var d=sb(c);tb(a,b,d,e)})},vb=a=>({width:E[a>>2],height:E[a+4>>2],depthOrArrayLayers:E[a+8>>2]}),wb=(a,b)=>{if(a){for(var c={},e=0;e<a;++e){var d=b+16*e;var h=(h=E[d+4>>2])?I(C,h):"";c[h]=F[d+8>>3]}return c}},yb=a=>a?xb.get(a):"auto",zb={undefined:0,Fa:1},Ab=[,"zero","one","src","one-minus-src","src-alpha","one-minus-src-alpha","dst","one-minus-dst","dst-alpha","one-minus-dst-alpha","src-alpha-saturated",
"constant","one-minus-constant"],Bb=[,"add","subtract","reverse-subtract","min","max"],Cb=[,"uniform","storage","read-only-storage"],Db=[,"never","less","equal","less-equal","greater","not-equal","greater-equal","always"],Eb=[,"none","front","back"],Fb=[,"depth-clip-control","depth32float-stencil8","timestamp-query","texture-compression-bc","texture-compression-etc2","texture-compression-astc","indirect-first-instance","shader-f16","rg11b10ufloat-renderable","bgra8unorm-storage","float32-filterable"],
Gb=[,"ccw","cw"],Hb=[,"uint16","uint32"],Kb=[,"clear","load"],Lb=[,"low-power","high-performance"],Mb=[,"point-list","line-list","line-strip","triangle-list","triangle-strip"],Nb=[,"filtering","non-filtering","comparison"],Ob=[,"keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"],Pb=[,"write-only","read-only","read-write"],Qb=[,"store","discard"],Rb=[,"all","stencil-only","depth-only"],Sb=[,"1d","2d","3d"],O=[,"r8unorm","r8snorm","r8uint","r8sint",
"r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32float","r32uint","r32sint","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rgb9e5ufloat","rg32float","rg32uint","rg32sint","rgba16uint","rgba16sint","rgba16float","rgba32float","rgba32uint","rgba32sint","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8",
"bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb",
"astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"],Tb=[,"float","unfilterable-float",
"depth","sint","uint"],Ub=[,"1d","2d","2d-array","cube","cube-array","3d"],Vb=[,"uint8x2","uint8x4","sint8x2","sint8x4","unorm8x2","unorm8x4","snorm8x2","snorm8x4","uint16x2","uint16x4","sint16x2","sint16x4","unorm16x2","unorm16x4","snorm16x2","snorm16x4","float16x2","float16x4","float32","float32x2","float32x3","float32x4","uint32","uint32x2","uint32x3","uint32x4","sint32","sint32x2","sint32x3","sint32x4","unorm10-10-10-2"],Wb=[,"vertex-buffer-not-used","vertex","instance"],P,Xb,Yb,Zb,Q,$b,R,S,ac,
bc,T,cc,U,V,dc,W,xb,ec,fc,X,gc,hc,ic=a=>{function b(d){if(d)return{operation:Bb[E[d>>2]],srcFactor:Ab[E[d+4>>2]],dstFactor:Ab[E[d+8>>2]]}}function c(d){return{compare:Db[E[d>>2]],failOp:Ob[E[d+4>>2]],depthFailOp:Ob[E[d+8>>2]],passOp:Ob[E[d+12>>2]]}}var e={label:void 0,layout:yb(E[a+8>>2]),vertex:function(d){if(d){var h=X.get(E[d+4>>2]),k=wb(E[d+12>>2],E[d+16>>2]);var n=E[d+20>>2];var m=E[d+24>>2];if(n){for(var p=[],u=0;u<n;++u){var l=p,v=l.push;var q=m+24*u;if(q){var r=E[q+8>>2];if(1===r)var A=null;
else{A=4294967296*E[q+4>>2]+E[q>>2];r=Wb[r];var pc=E[q+12>>2];q=E[q+16>>2];for(var Ib=[],Va=0;Va<pc;++Va){var Jb=Ib,Da=q+24*Va;Jb.push.call(Jb,{format:Vb[E[Da>>2]],offset:4294967296*E[Da+4+8>>2]+E[Da+8>>2],shaderLocation:E[Da+16>>2]})}A={arrayStride:A,stepMode:r,attributes:Ib}}}else A=void 0;v.call(l,A)}n=p}else n=void 0;h={module:h,constants:k,buffers:n};(d=E[d+8>>2])&&(h.entryPoint=d?I(C,d):"");return h}}(a+12),primitive:function(d){if(d){var h=E[d>>2];return{topology:Mb[E[d+4>>2]],stripIndexFormat:Hb[E[d+
8>>2]],frontFace:Gb[E[d+12>>2]],cullMode:Eb[E[d+16>>2]],unclippedDepth:7===(h?E[h+4>>2]:0)&&!!E[h+8>>2]}}}(a+40),depthStencil:function(d){if(d)return{format:O[E[d+4>>2]],depthWriteEnabled:!!E[d+8>>2],depthCompare:Db[E[d+12>>2]],stencilFront:c(d+16),stencilBack:c(d+32),stencilReadMask:E[d+48>>2],stencilWriteMask:E[d+52>>2],depthBias:D[d+56>>2],depthBiasSlopeScale:na[d+60>>2],depthBiasClamp:na[d+64>>2]}}(E[a+60>>2]),multisample:function(d){if(d)return{count:E[d+4>>2],mask:E[d+8>>2],alphaToCoverageEnabled:!!E[d+
12>>2]}}(a+64),fragment:function(d){if(d){for(var h=X.get(E[d+4>>2]),k=wb(E[d+12>>2],E[d+16>>2]),n=E[d+20>>2],m=E[d+24>>2],p=[],u=0;u<n;++u){var l=p,v=l.push,q=m+16*u,r=E[q+4>>2];if(0===r)q=void 0;else{r=O[r];var A=(A=E[q+8>>2])?{alpha:b(A+12),color:b(A+0)}:void 0;q={format:r,blend:A,writeMask:E[q+12>>2]}}v.call(l,q)}h={module:h,constants:k,targets:p};(d=E[d+8>>2])&&(h.entryPoint=d?I(C,d):"");return h}}(E[a+80>>2])};(a=E[a+4>>2])&&(e.label=a?I(C,a):"");return e},jc=[0,"undefined"!=typeof document?
document:0,"undefined"!=typeof window?window:0];function kc(){var a=Y,b={};for(let [c,e]of Object.entries(a))b[c]="function"==typeof e?(...d)=>{lc.push(c);try{return e(...d)}finally{z||lc.pop()}}:e;return b}var lc=[];
f.requestFullscreen=function(a,b){function c(){ab=!1;var h=e.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===h?(e.exitFullscreen=ib,hb&&e.requestPointerLock(),ab=!0,N?("undefined"!=typeof SDL&&(D[SDL.screen>>2]=E[SDL.screen>>2]|8388608),mb(f.canvas),lb()):mb(e)):(h.parentNode.insertBefore(e,h),h.parentNode.removeChild(h),N?("undefined"!=typeof SDL&&(D[SDL.screen>>2]=E[SDL.screen>>
2]&-8388609),mb(f.canvas),lb()):mb(e));f.onFullScreen?.(ab);f.onFullscreen?.(ab)}hb=a;N=b;"undefined"==typeof hb&&(hb=!0);"undefined"==typeof N&&(N=!1);var e=f.canvas;gb||(gb=!0,document.addEventListener("fullscreenchange",c,!1),document.addEventListener("mozfullscreenchange",c,!1),document.addEventListener("webkitfullscreenchange",c,!1),document.addEventListener("MSFullscreenChange",c,!1));var d=document.createElement("div");e.parentNode.insertBefore(d,e);d.appendChild(e);d.requestFullscreen=d.requestFullscreen||
d.mozRequestFullScreen||d.msRequestFullscreen||(d.webkitRequestFullscreen?()=>d.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(d.webkitRequestFullScreen?()=>d.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null);d.requestFullscreen()};f.requestAnimationFrame=Ma;f.setCanvasSize=function(a,b,c){mb(f.canvas,a,b);c||lb()};f.pauseMainLoop=$a;f.resumeMainLoop=function(){K++;var a=Fa,b=Ga,c=Ha;Ha=null;Ua(c,0,!1,Pa,!0);Oa(a,b);J()};
f.getUserMedia=function(a){let b;(b=window).getUserMedia||(b.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia);window.getUserMedia(a)};f.createContext=function(a,b,c,e){if(b&&f.wa&&a==f.canvas)return f.wa;var d;if(b){var h={antialias:!1,alpha:!1,Ia:1};if(e)for(var k in e)h[k]=e[k];if("undefined"!=typeof GL&&(d=GL.createContext(a,h)))var n=GL.getContext(d).Ca}else n=a.getContext("2d");if(!n)return null;c&&(f.wa=n,b&&GL.Ja(d),f.Oa=b,cb.forEach(m=>m()),db());return n};
(()=>{function a(){this.ia={};this.za=1;this.create=function(b,c={}){var e=this.za++;c.ua=1;c.object=b;this.ia[e]=c;return e};this.get=function(b){if(b)return this.ia[b].object};this.ta=function(b){this.ia[b].ua++};this.release=function(b){var c=this.ia[b];c.ua--;0>=c.ua&&delete this.ia[b]}}P||(Xb=Xb||new a,Yb=Yb||new a,Zb=Zb||new a,P=P||new a,Q=Q||new a,$b=$b||new a,R=R||new a,S=S||new a,ac=ac||new a,bc=bc||new a,T=T||new a,cc=cc||new a,U=U||new a,V=V||new a,dc=dc||new a,W=W||new a,xb=xb||new a,
ec=ec||new a,fc=fc||new a,X=X||new a,gc=gc||new a,hc=hc||new a)})();
var oc={a:(a,b,c,e)=>{y(`Assertion failed: ${a?I(C,a):""}, at: `+[b?b?I(C,b):"":"unknown filename",c,e?e?I(C,e):"":"unknown function"])},e:()=>{y("")},ea:()=>{$a();Ha=null},A:(a,b,c)=>C.copyWithin(a,b,b+c),f:()=>{y("OOM")},L:(a,b,c)=>{Ua(()=>dynCall_v(a),b,c)},b:a=>{B=a;Xa(a)},p:(a,b,c,e)=>{for(var d=0,h=0;h<c;h++){var k=E[b>>2],n=E[b+4>>2];b+=8;for(var m=0;m<n;m++){var p=C[k+m],u=nb[a];0===p||10===p?((1===a?la:w)(I(u,0)),u.length=0):u.push(p)}d+=n}E[e>>2]=d;return 0},c:a=>Zb.release(a),d:(a,b,c,
e)=>{a=Zb.get(a);var d={};if(b){var h=E[b+8>>2];if(h){var k=E[b+12>>2];d.requiredFeatures=Array.from(D.subarray(k>>2,k+4*h>>2),l=>Fb[l])}if(h=E[b+16>>2]){var n=h+8,m={};function l(q,r){r=E[n+r>>2];4294967295!=r&&(m[q]=r)}function v(q,r){r=n+r;var A=E[r+4>>2];if(4294967295!=E[r>>2]||4294967295!=A)m[q]=4294967296*E[r+4>>2]+E[r>>2]}l("maxTextureDimension1D",0);l("maxTextureDimension2D",4);l("maxTextureDimension3D",8);l("maxTextureArrayLayers",12);l("maxBindGroups",16);l("maxBindGroupsPlusVertexBuffers",
20);l("maxDynamicUniformBuffersPerPipelineLayout",28);l("maxDynamicStorageBuffersPerPipelineLayout",32);l("maxSampledTexturesPerShaderStage",36);l("maxSamplersPerShaderStage",40);l("maxStorageBuffersPerShaderStage",44);l("maxStorageTexturesPerShaderStage",48);l("maxUniformBuffersPerShaderStage",52);l("minUniformBufferOffsetAlignment",72);l("minStorageBufferOffsetAlignment",76);v("maxUniformBufferBindingSize",56);v("maxStorageBufferBindingSize",64);l("maxVertexBuffers",80);l("maxVertexAttributes",
96);l("maxVertexBufferArrayStride",100);l("maxInterStageShaderComponents",104);l("maxInterStageShaderVariables",108);l("maxColorAttachments",112);l("maxComputeWorkgroupStorageSize",120);l("maxComputeInvocationsPerWorkgroup",124);l("maxComputeWorkgroupSizeX",128);l("maxComputeWorkgroupSizeY",132);l("maxComputeWorkgroupSizeZ",136);l("maxComputeWorkgroupsPerDimension",140);d.requiredLimits=m}if(k=E[b+20>>2])h={},(k=E[k+4>>2])&&(h.label=k?I(C,k):""),d.defaultQueue=h;var p=E[b+28>>2],u=E[b+32>>2];(k=E[b+
4>>2])&&(d.label=k?I(C,k):"")}a.requestDevice(d).then(l=>{L(()=>{var v={Aa:Q.create(l.queue)};v=P.create(l,v);p&&l.lost.then(q=>{L(()=>ub(p,zb[q.reason],q.message,u))});Z(c,0,v,0,e)})},function(l){L(()=>{qb(()=>{var v=sb(l.message);Z(c,1,0,v,e)})})})},ca:a=>W.ta(a),ba:a=>W.release(a),da:a=>bc.release(a),aa:(a,b,c)=>{a=T.ia[a];0===c&&M();-1==c&&(c=void 0);try{var e=a.object.getMappedRange(b,c)}catch(h){return 0}var d=mc(16,e.byteLength);C.set(new Uint8Array(e),d);a.ja.push(()=>nc(d));return d},$:(a,
b,c)=>{a=T.ia[a];0===c&&M();-1==c&&(c=void 0);if(2!==a.xa)return 0;try{var e=a.object.getMappedRange(b,c)}catch(h){return 0}var d=mc(16,e.byteLength);C.fill(0,d,e.byteLength);a.ja.push(()=>{(new Uint8Array(e)).set(C.subarray(d,d+e.byteLength));nc(d)});return d},_:(a,b,c,e,d,h)=>{a=T.ia[a];a.xa=b;a.ja=[];a=a.object;-1==e&&(e=void 0);a.mapAsync(b,c,e).then(()=>{L(()=>{dynCall_vii(d,0,h)})},()=>{L(()=>{dynCall_vii(d,1,h)})})},Y:a=>T.ta(a),X:a=>T.release(a),Z:a=>{a=T.ia[a];if(a.ja){for(var b=0;b<a.ja.length;++b)a.ja[b]();
a.ja=void 0;a.object.unmap()}},W:a=>$b.release(a),V:(a,b)=>{var c=E[b>>2],e=void 0;0!==c&&(e=4294967296*E[c+12>>2]+E[c+8>>2]);var d=E[b+8>>2],h=E[b+12>>2];c=[];for(var k=0;k<d;++k){var n=c,m=n.push;var p=h+56*k;var u=E[p+4>>2];if(0!==u){var l=D[p+8>>2];-1==l&&(l=void 0);var v=E[p+16>>2],q=E[p+20>>2];var r=p+24;r={r:F[r>>3],g:F[r+8>>3],b:F[r+16>>3],a:F[r+24>>3]};p={view:V.get(u),depthSlice:l,resolveTarget:V.get(E[p+12>>2]),clearValue:r,loadOp:Kb[v],storeOp:Qb[q]}}else p=void 0;m.call(n,p)}d=E[b+16>>
2];d=0!==d?{view:V.get(E[d>>2]),depthClearValue:na[d+12>>2],depthLoadOp:Kb[E[d+4>>2]],depthStoreOp:Qb[E[d+8>>2]],depthReadOnly:!!E[d+16>>2],stencilClearValue:E[d+28>>2],stencilLoadOp:Kb[E[d+20>>2]],stencilStoreOp:Qb[E[d+24>>2]],stencilReadOnly:!!E[d+32>>2]}:void 0;h=dc.get(E[b+20>>2]);k=E[b+24>>2];k=0!==k?{querySet:dc.get(E[k>>2]),beginningOfPassWriteIndex:E[k+4>>2],endOfPassWriteIndex:E[k+8>>2]}:void 0;e={label:void 0,colorAttachments:c,depthStencilAttachment:d,occlusionQuerySet:h,timestampWrites:k,
maxDrawCount:e};(b=E[b+4>>2])&&(e.label=b?I(C,b):"");a=R.get(a);return S.create(a.beginRenderPass(e))},g:function(a,b,c,e,d,h,k,n,m){c=e+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*e:NaN;h=k+2097152>>>0<4194305-!!h?(h>>>0)+4294967296*k:NaN;n=m+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*m:NaN;a=R.get(a);b=T.get(b);d=T.get(d);a.copyBufferToBuffer(b,c,d,h,n)},U:(a,b,c,e)=>{a=R.get(a);e=vb(e);var d=a.copyTextureToBuffer,h=U.get(E[b+4>>2]),k=b+12;b={texture:h,mipLevel:E[b+8>>2],origin:{x:E[k>>2],y:E[k+
4>>2],z:E[k+8>>2]},aspect:Rb[E[b+24>>2]]};h=c+8;k=E[h+16>>2];var n=E[h+20>>2];h={offset:4294967296*E[h+4+8>>2]+E[h+8>>2],bytesPerRow:4294967295===k?void 0:k,rowsPerImage:4294967295===n?void 0:n};h.buffer=T.get(E[c+32>>2]);d.call(a,b,h,e)},T:a=>{a=R.get(a);return $b.create(a.finish())},S:a=>R.release(a),R:(a,b)=>{for(var c=W.get(E[b+8>>2]),e=E[b+12>>2],d=E[b+16>>2],h=[],k=0;k<e;++k){var n=h,m=n.push;var p=d+40*k;var u=E[p+8>>2],l=E[p+32>>2],v=E[p+36>>2],q=E[p+4>>2];u?(l=p+24,l=E[l>>2]+4294967296*D[l+
4>>2],-1==l&&(l=void 0),p={binding:q,resource:{buffer:T.get(u),offset:4294967296*E[p+4+16>>2]+E[p+16>>2],size:l}}):p=l?{binding:q,resource:cc.get(l)}:{binding:q,resource:V.get(v)};m.call(n,p)}c={label:void 0,layout:c,entries:h};(b=E[b+4>>2])&&(c.label=b?I(C,b):"");a=P.get(a);return bc.create(a.createBindGroup(c))},Q:(a,b)=>{for(var c=E[b+8>>2],e=E[b+12>>2],d=[],h=0;h<c;++h){var k=d,n=k.push,m=e+80*h,p=E[m+4>>2],u=E[m+8>>2];var l=m+16;var v=E[l+4>>2];l=v?{type:Cb[v],hasDynamicOffset:!!E[l+8>>2],minBindingSize:4294967296*
E[l+4+16>>2]+E[l+16>>2]}:void 0;v=(v=E[m+40+4>>2])?{type:Nb[v]}:void 0;var q=m+48;var r=E[q+4>>2];q=r?{sampleType:Tb[r],viewDimension:Ub[E[q+8>>2]],multisampled:!!E[q+12>>2]}:void 0;m+=64;m=(r=E[m+4>>2])?{access:Pb[r],format:O[E[m+8>>2]],viewDimension:Ub[E[m+12>>2]]}:void 0;n.call(k,{binding:p,visibility:u,buffer:l,sampler:v,texture:q,storageTexture:m})}c={entries:d};(b=E[b+4>>2])&&(c.label=b?I(C,b):"");a=P.get(a);return W.create(a.createBindGroupLayout(c))},P:(a,b)=>{var c=!!E[b+24>>2],e={label:void 0,
usage:E[b+8>>2],size:4294967296*E[b+4+16>>2]+E[b+16>>2],mappedAtCreation:c};(b=E[b+4>>2])&&(e.label=b?I(C,b):"");b=P.get(a);a={};e=T.create(b.createBuffer(e),a);c&&(a.xa=2,a.ja=[]);return e},O:(a,b)=>{if(b){var c={label:void 0};(b=E[b+4>>2])&&(c.label=b?I(C,b):"")}a=P.get(a);return R.create(a.createCommandEncoder(c))},N:(a,b)=>{for(var c=E[b+8>>2],e=E[b+12>>2],d=[],h=0;h<c;++h)d.push(W.get(E[e+4*h>>2]));c={label:void 0,bindGroupLayouts:d};(b=E[b+4>>2])&&(c.label=b?I(C,b):"");a=P.get(a);return xb.create(a.createPipelineLayout(c))},
M:(a,b)=>{b=ic(b);a=P.get(a);return ec.create(a.createRenderPipeline(b))},K:(a,b)=>{var c=E[b>>2],e=E[c+4>>2],d={label:void 0,code:""};(b=E[b+4>>2])&&(d.label=b?I(C,b):"");switch(e){case 5:e=E[c+12>>2]>>2;d.code=E.subarray(e,e+E[c+8>>2]);break;case 6:(c=E[c+8>>2])&&(d.code=c?I(C,c):"")}a=P.get(a);return X.create(a.createShaderModule(d))},J:(a,b,c)=>{a=P.get(a);b=Xb.get(b);var e=[E[c+16>>2],E[c+20>>2]];0!==e[0]&&(b.canvas.width=e[0]);0!==e[1]&&(b.canvas.height=e[1]);b.configure({device:a,format:O[E[c+
12>>2]],usage:E[c+8>>2],alphaMode:"opaque"});return Yb.create(b)},I:(a,b)=>{var c={label:void 0,size:vb(b+16),mipLevelCount:E[b+32>>2],sampleCount:E[b+36>>2],dimension:Sb[E[b+12>>2]],format:O[E[b+28>>2]],usage:E[b+8>>2]},e=E[b+4>>2];e&&(c.label=e?I(C,e):"");if(e=E[b+40>>2])b=E[b+44>>2],c.viewFormats=Array.from(D.subarray(b>>2,b+4*e>>2),function(d){return O[d]});a=P.get(a);return U.create(a.createTexture(c))},H:a=>{a=P.ia[a].Aa;Q.ta(a);return a},F:a=>P.ta(a),E:a=>P.release(a),G:(a,b,c)=>{P.get(a).onuncapturederror=
function(e){L(()=>{var d;e.error instanceof GPUValidationError?d=1:e.error instanceof GPUOutOfMemoryError&&(d=2);ub(b,d,e.error.message,c)})}},D:(a,b)=>{a=E[E[b>>2]+8>>2];a=2<a?a?I(C,a):"":a;a=(jc[a]||("undefined"!=typeof document?document.querySelector(a):void 0)).getContext("webgpu");if(!a)return 0;if(b=E[b+4>>2])a.Na=b?I(C,b):"";return Xb.create(a)},C:(a,b,c,e)=>{var d;b&&(d={powerPreference:Lb[E[b+8>>2]],forceFallbackAdapter:!!E[b+16>>2]});"gpu"in navigator?navigator.gpu.requestAdapter(d).then(h=>
{L(()=>{h?((k,n,m,p)=>Z(c,k,n,m,p))(0,Zb.create(h),0,e):qb(()=>{var k=sb("WebGPU not available on this system (requestAdapter returned null)");Z(c,1,0,k,e)})})},h=>{L(()=>{qb(()=>{var k=sb(h.message);Z(c,2,0,k,e)})})}):qb(()=>{var h=sb("WebGPU not available on this browser (navigator.gpu is not available)");Z(c,1,0,h,e)})},B:a=>xb.release(a),z:a=>dc.release(a),x:a=>Q.release(a),y:(a,b,c)=>{a=Q.get(a);b=Array.from(D.subarray(c>>2,c+4*b>>2),function(e){return $b.get(e)});a.submit(b)},w:(a,b,c,e,d)=>
{S.get(a).draw(b,c,e,d)},v:a=>{S.get(a).end()},t:a=>S.release(a),u:(a,b)=>{a=S.get(a);b=ec.get(b);a.setPipeline(b)},s:a=>ec.release(a),r:a=>X.ta(a),q:a=>X.release(a),o:a=>Xb.release(a),n:a=>{a=Yb.get(a);return V.create(a.getCurrentTexture().createView())},m:a=>Yb.release(a),l:(a,b)=>{if(b){var c=E[b+20>>2];var e=E[b+28>>2];c={format:O[E[b+8>>2]],dimension:Ub[E[b+12>>2]],baseMipLevel:E[b+16>>2],mipLevelCount:4294967295===c?void 0:c,baseArrayLayer:E[b+24>>2],arrayLayerCount:4294967295===e?void 0:e,
aspect:Rb[E[b+32>>2]]};(b=E[b+4>>2])&&(c.label=b?I(C,b):"")}a=U.get(a);return V.create(a.createView(c))},k:a=>U.ta(a),j:a=>U.release(a),i:a=>V.ta(a),h:a=>V.release(a)},Y=function(){function a(c){Y=c.exports;Y=kc();ma=Y.fa;c=ma.buffer;f.HEAP8=new Int8Array(c);f.HEAP16=new Int16Array(c);f.HEAPU8=C=new Uint8Array(c);f.HEAPU16=new Uint16Array(c);f.HEAP32=D=new Int32Array(c);f.HEAPU32=E=new Uint32Array(c);f.HEAPF32=na=new Float32Array(c);f.HEAPF64=F=new Float64Array(c);pa.unshift(Y.ga);G--;f.monitorRunDependencies?.(G);
0==G&&(null!==ta&&(clearInterval(ta),ta=null),ua&&(c=ua,ua=null,c()));return Y}var b={a:oc};G++;f.monitorRunDependencies?.(G);if(f.instantiateWasm)try{return f.instantiateWasm(b,a)}catch(c){return w(`Module.instantiateWasm callback failed with error: ${c}`),!1}Aa(b,function(c){a(c.instance)});return{}}(),qc=f._main=(a,b)=>(qc=f._main=Y.ha)(a,b),nc=a=>(nc=Y.ka)(a),mc=(a,b)=>(mc=Y.la)(a,b),ob=()=>(ob=Y.ma)(),pb=a=>(pb=Y.na)(a),rb=a=>(rb=Y.oa)(a),Z=f.dynCall_viiii=(a,b,c,e,d)=>(Z=f.dynCall_viiii=Y.pa)(a,
b,c,e,d),tb=f.dynCall_viii=(a,b,c,e)=>(tb=f.dynCall_viii=Y.qa)(a,b,c,e),dynCall_vii=f.dynCall_vii=(a,b,c)=>(dynCall_vii=f.dynCall_vii=Y.ra)(a,b,c),dynCall_v=f.dynCall_v=a=>(dynCall_v=f.dynCall_v=Y.sa)(a),rc;ua=function sc(){rc||tc();rc||(ua=sc)};
function tc(){function a(){if(!rc&&(rc=!0,f.calledRun=!0,!z)){Ba(pa);Ba(qa);if(f.onRuntimeInitialized)f.onRuntimeInitialized();if(uc){var b=qc;try{var c=b(0,0);B=c;Xa(c)}catch(e){Wa(e)}}if(f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)b=f.postRun.shift(),ra.unshift(b);Ba(ra)}}if(!(0<G)){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)sa();Ba(oa);0<G||(f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},
1);a()},1)):a())}}if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();var uc=!0;f.noInitialRun&&(uc=!1);tc();
